(function(){"use strict";var e={2197:function(e,t,a){var n=a(5130),r=a(6768);const i={id:"app"};function s(e,t,a,n,s,o){const l=(0,r.g2)("RickAndMorty");return(0,r.uX)(),(0,r.CE)("div",i,[(0,r.bF)(l)])}var o=a(4232);const l={class:"filter"},u=(0,r.Lk)("option",{value:""},"Фильтр по статусу",-1),c=(0,r.Lk)("option",{value:"Alive"},"Жив",-1),p=(0,r.Lk)("option",{value:"Dead"},"Мёртв",-1),v=(0,r.Lk)("option",{value:"unknown"},"Неизвестно",-1),d=[u,c,p,v],f={key:0},k={key:1},g={key:2,class:"wrapper"},h={class:"card"},y={class:"card__image"},L=["src"],m={class:"card__text"},b={class:"section"},_={class:"title",href:""},w={class:"status"},C={class:"section"},P=(0,r.Lk)("span",{class:"text-grey"},"Last known location:",-1),R={class:"section"},x=(0,r.Lk)("span",{class:"text-grey"},"First seen in:",-1),A=["disabled"],E=["disabled"];function O(e,t,a,i,s,u){return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("div",l,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.filterName=e),type:"text",placeholder:"Фильтр по имени"},null,512),[[n.Jo,i.filterName]]),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.filterStatus=e)},d,512),[[n.u1,i.filterStatus]]),(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.applyFiltersAndResetPage&&i.applyFiltersAndResetPage(...e))},"Применить")]),i.isLoading?((0,r.uX)(),(0,r.CE)("div",f,"Загрузка...")):!i.characters||i.characters&&0===i.characters.length?((0,r.uX)(),(0,r.CE)("div",k,"Нет данных")):((0,r.uX)(),(0,r.CE)("div",g,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.characters,(e=>((0,r.uX)(),(0,r.CE)("div",{class:"card__wrapper",key:e.id},[(0,r.Lk)("div",h,[(0,r.Lk)("div",y,[(0,r.Lk)("img",{src:e.image,alt:"Character Image"},null,8,L)]),(0,r.Lk)("div",m,[(0,r.Lk)("div",b,[(0,r.Lk)("p",_,(0,o.v_)(e.name),1),(0,r.Lk)("span",w,[(0,r.Lk)("span",{class:(0,o.C4)(["status__icon","Alive"===e.status?"green":"Dead"===e.status?"red":"grey"])},null,2),(0,r.eW)(" "+(0,o.v_)(e.status)+" - "+(0,o.v_)(e.species),1)])]),(0,r.Lk)("div",C,[P,(0,r.Lk)("p",null,(0,o.v_)(e.location.name),1)]),(0,r.Lk)("div",R,[x,(0,r.Lk)("p",null,(0,o.v_)(i.getEpisode(e.episode[0])),1)])])])])))),128))])),(0,r.Lk)("div",null,[(0,r.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>i.prevPage&&i.prevPage(...e)),disabled:i.page<=1||i.isLoading},"Назад",8,A),(0,r.Lk)("span",null,(0,o.v_)(i.page),1),(0,r.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>i.nextPage&&i.nextPage(...e)),disabled:i.page>=i.totalPages||i.isLoading},"Вперед",8,E)])])}a(4114);var j=a(144),F={name:"RickAndMorty",setup(){const e=(0,j.KR)([]),t=(0,j.KR)(1),a=(0,j.KR)(1),n=(0,j.KR)(""),i=(0,j.KR)(""),s=(0,j.KR)(!1),o=(0,j.KR)([""]),l=async()=>{try{let r;s.value=!0,r=n.value||i.value?await fetch(`https://rickandmortyapi.com/api/character/?name=${n.value}&status=${i.value}&page=${t.value}`):await fetch(`https://rickandmortyapi.com/api/character/?page=${t.value}`);const o=await r.json();e.value=o.results,a.value=o.info.pages}catch(r){console.error("Ошибка при загрузке данных:",r)}finally{s.value=!1}},u=async()=>{try{s.value=!0;for(let e=1;e<=3;e++){const t=await fetch(`https://rickandmortyapi.com/api/episode/?page=${e}`),a=await t.json();o.value.push(...a.results)}}catch(e){console.error("Ошибка при загрузке данных:",e)}finally{s.value=!1}},c=e=>{const t=o.value.filter((t=>t.url===e))[0];return t?t.name:"unknown"},p=()=>{t.value<a.value&&!s.value&&(t.value++,l())},v=()=>{t.value>1&&!s.value&&(t.value--,l())},d=()=>{n.value="",i.value=""},f=()=>{k(),l()},k=()=>{t.value=1};return(0,r.sV)((()=>{u(),l()})),{characters:e,page:t,totalPages:a,filterName:n,filterStatus:i,nextPage:p,prevPage:v,applyFiltersAndResetPage:f,resetFilters:d,isLoading:s,getEpisode:c}}},K=a(1241);const X=(0,K.A)(F,[["render",O]]);var $=X,M={name:"App",components:{RickAndMorty:$}};const N=(0,K.A)(M,[["render",s]]);var S=N;(0,n.Ef)(S).mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,i){if(!n){var s=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],i=e[c][2];for(var o=!0,l=0;l<n.length;l++)(!1&i||s>=i)&&Object.keys(a.O).every((function(e){return a.O[e](n[l])}))?n.splice(l--,1):(o=!1,i<s&&(s=i));if(o){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,r,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,i,s=n[0],o=n[1],l=n[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(l)var c=l(a)}for(t&&t(n);u<s.length;u++)i=s[u],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},n=self["webpackChunkrick_and_morty_test"]=self["webpackChunkrick_and_morty_test"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(2197)}));n=a.O(n)})();
//# sourceMappingURL=app.71052f34.js.map